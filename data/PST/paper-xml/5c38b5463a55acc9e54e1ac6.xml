<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:space="preserve" xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 https://raw.githubusercontent.com/kermitt2/grobid/master/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Dynamic Locomotion in the MIT Cheetah 3 Through Convex Model-Predictive Control</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName><forename type="first">Jared</forename><forename type="middle">Di</forename><surname>Carlo</surname></persName>
							<email>dicarloj@mit.edu</email>
							<affiliation key="aff0">
								<orgName type="department">Department of Electrical Engineering and Computer Science</orgName>
								<orgName type="institution">Massachusetts Institute of Technology</orgName>
								<address>
									<postCode>02139</postCode>
									<settlement>Cambridge</settlement>
									<region>MA</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName><forename type="first">Patrick</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
							<email>pwensing@nd.edu</email>
							<affiliation key="aff1">
								<orgName type="department">Department of Aerospace and Mechanical Engineering</orgName>
								<orgName type="institution">University of Notre Dame</orgName>
								<address>
									<addrLine>Notre Dame</addrLine>
									<postCode>46556</postCode>
									<region>IN</region>
								</address>
							</affiliation>
						</author>
						<author>
							<persName><forename type="first">Benjamin</forename><surname>Katz</surname></persName>
							<email>benkatz@mit.edu</email>
							<affiliation key="aff2">
								<orgName type="department">Department of Mechanical Engineer-ing</orgName>
								<orgName type="institution">Massachusetts Institute of Technology</orgName>
								<address>
									<postCode>02139</postCode>
									<settlement>Cambridge</settlement>
									<region>MA</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName><forename type="first">Gerardo</forename><surname>Bledt</surname></persName>
							<email>gbledt@mit.edu</email>
							<affiliation key="aff0">
								<orgName type="department">Department of Electrical Engineering and Computer Science</orgName>
								<orgName type="institution">Massachusetts Institute of Technology</orgName>
								<address>
									<postCode>02139</postCode>
									<settlement>Cambridge</settlement>
									<region>MA</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
							<affiliation key="aff2">
								<orgName type="department">Department of Mechanical Engineer-ing</orgName>
								<orgName type="institution">Massachusetts Institute of Technology</orgName>
								<address>
									<postCode>02139</postCode>
									<settlement>Cambridge</settlement>
									<region>MA</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName><forename type="first">Sangbae</forename><surname>Kim</surname></persName>
							<email>sangbae@mit.edu</email>
							<affiliation key="aff2">
								<orgName type="department">Department of Mechanical Engineer-ing</orgName>
								<orgName type="institution">Massachusetts Institute of Technology</orgName>
								<address>
									<postCode>02139</postCode>
									<settlement>Cambridge</settlement>
									<region>MA</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Dynamic Locomotion in the MIT Cheetah 3 Through Convex Model-Predictive Control</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
					<idno type="MD5">8F77B3617CDEAF2BF4A77979118F0365</idno>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<encodingDesc>
			<appInfo>
				<application version="0.7.3" ident="GROBID" when="2023-07-28T13:41+0000">
					<desc>GROBID - A machine learning software for extracting information from scholarly documents</desc>
					<ref target="https://github.com/kermitt2/grobid"/>
				</application>
			</appInfo>
		</encodingDesc>
		<profileDesc>
			<abstract>
<div xmlns="http://www.tei-c.org/ns/1.0"><p>This paper presents an implementation of model predictive control (MPC) to determine ground reaction forces for a torque-controlled quadruped robot. The robot dynamics are simplified to formulate the problem as convex optimization while still capturing the full 3D nature of the system. With the simplified model, ground reaction force planning problems are formulated for prediction horizons of up to 0.5 seconds, and are solved to optimality in under 1 ms at a rate of 20-30 Hz. Despite using a simplified model, the robot is capable of robust locomotion at a variety of speeds. Experimental results demonstrate control of gaits including stand, trot, flying-trot, pronk, bound, pace, a 3-legged gait, and a full 3D gallop. The robot achieved forward speeds of up to 3 m/s, lateral speeds up to 1 m/s, and angular speeds up to 180 deg/sec. Our approach is general enough to perform all these behaviors with the same set of gains and weights.</p></div>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>I. INTRODUCTION</head><p>Control of highly dynamic legged robots is a challenging problem due to the underactuation of the body during many gaits and due to constraints placed on ground reaction forces. As an example, during dynamic gaits <ref type="foot" target="#foot_0">4</ref> such as bounding or galloping, the body of the robot is always underactuated. Additionally, ground reaction forces must always remain in a friction cone to avoid slipping. Current solutions for highly dynamic locomotion include heuristic controllers for hopping and bounding <ref type="bibr" target="#b0">[1]</ref>, which are effective, but difficult to tune; two-dimensional planar simplifications <ref type="bibr" target="#b1">[2]</ref>, which are only applicable for gaits without lateral or roll dynamics; and evolutionary optimization for galloping <ref type="bibr" target="#b2">[3]</ref>, which cannot currently be solved fast enough for online use. Recent results on hardware include execution of bounding limit cycles discovered offline with HyQ <ref type="bibr" target="#b3">[4]</ref> and learned pronking, trotting, and bounding gaits on StarlETH <ref type="bibr" target="#b4">[5]</ref>.</p><p>Predictive control can stabilize these dynamic gaits by anticipating periods of flight or underactuation, but is difficult to solve due to the nonlinear dynamics of legged robots and the large number of states and control inputs. Nonlinear optimization has been shown to be effective for predictive control of hopping robots <ref type="bibr" target="#b5">[6]</ref>, humanoids <ref type="bibr" target="#b6">[7]</ref>, <ref type="bibr" target="#b7">[8]</ref>, and quadrupeds <ref type="bibr" target="#b8">[9]</ref>, with <ref type="bibr" target="#b8">[9]</ref> demonstrating the utility of heuristics to regularize the optimization. Another common approach is to use both a high-level planner, such as in <ref type="bibr" target="#b9">[10]</ref>, <ref type="bibr" target="#b10">[11]</ref> and a lower level controller to track the plan. More recently, the experimental results in <ref type="bibr" target="#b11">[12]</ref> show that wholebody nonlinear MPC can be used to stabilize trotting and jumping.</p><p>The stabilization of the quadruped robot HyQ using convex optimization discussed in <ref type="bibr" target="#b12">[13]</ref> demonstrates the utility of convex optimization, but the approach cannot be immediately extended to dynamic gaits due to the quasi-static simplifications made to the robot model. Similarly, in bipedal locomotion, convex optimization has been used to find the best forces to satisfy instantaneous dynamics requirements <ref type="bibr" target="#b13">[14]</ref> and to plan footsteps with the linear inverted pendulum model <ref type="bibr" target="#b14">[15]</ref> but the latter approach does not include orientation in the predictive model.</p><p>While galloping is well studied in the field of biology <ref type="bibr" target="#b15">[16]</ref>, <ref type="bibr" target="#b16">[17]</ref>, surprisingly few hardware implementations of galloping exist. The first robot to demonstrate galloping was the underactuated quadruped robot Scout II <ref type="bibr" target="#b17">[18]</ref>, which reached 1.3 m/s, but had limited control of yaw. The MIT Cheetah 1 robot <ref type="bibr" target="#b18">[19]</ref> achieved high-speed galloping, but was constrained to a plane. To the best of our knowledge, the only previous implementation of a fully 3D gallop with yaw control is on the hydraulically actuated WildCat robot <ref type="bibr" target="#b19">[20]</ref>, developed by Boston Dynamics. Unfortunately, no specific details about WildCat or its control system have been published.</p><p>The main contribution of this paper is a predictive controller which stabilizes a large number of gaits, including those with complex orientation dynamics. On hardware, we achieved a maximum yaw rate of 180 deg/sec and a maximum linear velocity of 3.0 m/s during a fully 3D gallop, which we believe to be the fastest gallop of an electrically actuated robot, and the fastest angular velocity of any legged robot similar in scale to Cheetah 3. Our controller can be formulated as a single convex optimization problem which considers a 3D, 12 DoF model of the robot. The solution of  the optimization problem can be directly used to compute motor torques that stabilize the robot without the use of an additional feedback controller.</p><p>The convex optimization approach has the benefit of avoiding nonlinear optimization techniques, which, unlike convex optimization solvers, are not guaranteed to find the global optimum and may suffer from numerical issues. Recent progress on convex optimization <ref type="bibr" target="#b20">[21]</ref> and applications to model predictive control <ref type="bibr" target="#b21">[22]</ref> has led to the development of many open source solvers such as ECOS <ref type="bibr" target="#b22">[23]</ref> and qpOASES <ref type="bibr" target="#b23">[24]</ref> that enable model predictive control problems to be solved rapidly and reliably.</p><p>The proposed controller was tested on the MIT Cheetah 3 quadruped robot on a treadmill and untethered on the ground, where it was able to stand, trot, flying-trot, pace, bound, pronk, and gallop. Aggressive turning maneuvers and omnidirectional locomotion were tested as well. The robot is powered by onboard batteries and all control calculations are done on an onboard processor. During tests, the robot encountered a number of obstacles and disturbances, including a staircase with full size steps covered in debris, which it was able to blindly climb with while doing a flying trot. To handle the large terrain disturbances, the robot used a contact detection algorithm described in <ref type="bibr" target="#b24">[25]</ref>. For all tests, including stair climbing, the robot uses no sensors other than an inertial measurement unit (IMU), joint position encoders, and current sensors in the motor controllers, with the latter used only for a current control feedback loop. The supplemental video includes highlights from testing. Footage of complete tests is available online at: https: //www.youtube.com/watch?v=q6zxCvCxhic.</p><p>This paper is organized as follows. Section II describes the control framework used on the Cheetah 3 robot. The dynamics model is presented in Section III, followed by the model predictive control problem formulation in Section IV. Section V contains implementation details and results.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>II. CONTROL ARCHITECTURE A. MIT Cheetah 3 Robot</head><p>The MIT Cheetah 3, shown in figure <ref type="figure" target="#fig_0">1</ref>, is a 45 kg quadruped robot built by the MIT Biomimetic Robotics Lab <ref type="bibr" target="#b25">[26]</ref>. The robot utilizes the proprioceptive actuator technology developed for the Cheetah 2 robot <ref type="bibr" target="#b26">[27]</ref>, which had low inertia, easily backdrivable hip and knee actuators to mitigate impacts. Cheetah 3 uses the same actuator technology in its hips, knees, and additionally the ab/ad joints, which allows the robot to execute dynamic turns.</p><p>Each of the robot's four legs has three torque controlled joints: ab/ad, hip, and knee. Each joint can produce a maximum torque of 250 Nm and can operate at a maximum velocity of 21 rad/sec. Motor torque control is accomplished by adjusting the setpoint of the motor current control loop; there are no torque or force sensors.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Conventions</head><p>The body and world coordinate systems are defined in Figure <ref type="figure">3</ref>. All quantities in the body coordinate system have a left subscript B. Quantities with no subscript are in the world coordinate system. Vectors are bold, upright, and lowercase (a, ω), matrices are bold, upright, and uppercase (A, Ω), and scalars are lowercase and italicized (a, ω). 1 n is used to denote an n × n identity matrix.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. State Machine</head><p>The controller proposed in this paper determines desired 3D ground reaction forces for behaviors with fixed-timing foot placement and liftoff. When a foot is scheduled to be in the air, the robot runs a swing leg controller, which is robust to early touchdowns. Otherwise, a ground force controller runs. These controllers are described in the following subsections and in Figure <ref type="figure">2</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>D. Swing Leg Control</head><p>The swing controller computes and follows a trajectory for the foot in the world coordinate system. The controller for tracking the trajectory uses the sum of a feedback and feedforward term to compute joint torques.</p><p>The control law used to compute joint torques for leg i is</p><formula xml:id="formula_0">τ i = J i [K p ( B p i,ref -B p i ) + K d ( B v i,ref -B v i )] + τ i,ff<label>(1)</label></formula><p>where J i ∈ R 3×3 is the foot Jacobian, K p , K d ∈ R 3×3 are diagonal positive definite proportional and derivative gain matrices, B p i , B v i ∈ R 3 are the position and velocity of the i-th foot, B p i,ref , B v i,ref ∈ R 3 are the corresponding references for the position and velocity of the swing leg trajectory and τ i,ff ∈ R 3 is a feedforward torque, found with</p><formula xml:id="formula_1">τ i,ff = J Λ i ( B a i,ref -Ji qi ) + C i qi + G i<label>(2)</label></formula><p>where Λ i ∈ R 3×3 is the operational space inertia matrix, a i,ref ∈ R 3 is the reference acceleration in the body frame, q i ∈ R 3 is the vector of joint positions, and C i qi + G i is the torque due to gravity and Coriolis forces for the leg.</p><p>To ensure high-gain stability in a wide range of leg configurations, the K p matrix must be adjusted to keep the natural frequency of the closed loop system relatively constant in response to changes in the apparent mass of the leg. The i-th diagonal entry of K p required to maintain a constant natural frequency ω i for the i-th axis can be approximated with</p><formula xml:id="formula_2">K p,i = ω 2 i Λ i,i<label>(3)</label></formula><p>where Λ i,i is the i, i-th entry in the mass matrix, corresponding to the apparent mass of the leg along the i-th axis. Desired footstep locations are chosen with a simple heuristic described in Section V. Additionally, a contact detection algorithm <ref type="bibr" target="#b24">[25]</ref> detects and handles early or late contact. If an early contact is detected, the controller immediately switches to stance and begins ground force control.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>E. Ground Force Control</head><p>During ground force control, joint torques are computed with</p><formula xml:id="formula_3">τ i = J i R i f i (<label>4</label></formula><formula xml:id="formula_4">)</formula><p>where R is the rotation matrix which transforms from body to world coordinates, J ∈ R 3×3 is the foot Jacobian, and f is the vector of forces calculated from the model predictive controller described in Section IV.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>III. SIMPLIFIED ROBOT DYNAMICS</head><p>The predictive controller models the robot as a single rigid body subject to forces at the contact patches. Although ignoring leg dynamics is a major simplification, the controller is still able to stabilize a high-DoF system and is robust to these multi-body effects. For the Cheetah 3 robot, this simplification is reasonable; the mass of the legs is roughly 10% of the robot's total mass. For each ground reaction force f i ∈ R 3 , the vector from the center of mass (COM) to the point where the force is applied is r i ∈ R 3 . The rigid body dynamics in world coordinates are given by</p><formula xml:id="formula_5">p = n i=1 f i m -g (5) d dt (Iω) = n i=1 r i × f i (6) Ṙ = [ω] × R<label>(7)</label></formula><p>where p ∈ R 3 is the robot's position, m is the robot's mass, g ∈ R 3 is the acceleration of gravity, I ∈ R 3 is the robot's inertia tensor, ω ∈ R 3 is the robot's angular velocity, and R is the rotation matrix which transforms from body to world coordinates. [x] × ∈ R 3×3 is defined as the skew-symmetric matrix such that [x] × y = x × y for all x, y ∈ R 3 . The nonlinear dynamics in ( <ref type="formula">6</ref>) and ( <ref type="formula" target="#formula_5">7</ref>) motivate the approximations made in the following subsection to avoid the nonconvex optimization that would otherwise be required for model predictive control.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Approximated Angular Velocity Dynamics</head><p>The robot's orientation is expressed as a vector of Z-Y-X Euler angles <ref type="bibr" target="#b27">[28]</ref> Θ = [φ θ ψ] where ψ is the yaw, θ is the pitch, and φ is the roll. These angles correspond to a sequence of rotations such that the transform from body to world coordinates can be expressed as</p><formula xml:id="formula_6">R = R z (ψ)R y (θ)R x (φ)<label>(8)</label></formula><p>where R n (α) represents a positive rotation of α about the naxis. The angular velocity in world coordinates can be found from the rate of change of these angles with</p><formula xml:id="formula_7">ω =   cos(θ) cos(ψ) -sin(ψ) 0 cos(θ) sin(ψ) cos(ψ) 0 0 0 1     φ θ ψ <label>(9)</label></formula><p>If the robot is not pointed vertically (cos(θ) = 0), equation ( <ref type="formula" target="#formula_7">9</ref>) can be inverted to find</p><formula xml:id="formula_8">  φ θ ψ  =   cos(ψ)/ cos(θ) sin(ψ)/ cos(θ) 0 -sin(ψ) cos(ψ) 0 cos(ψ) tan(θ) sin(ψ) tan(θ) 1   ω<label>(10)</label></formula><p>For small values of roll and pitch (φ, θ), equation ( <ref type="formula" target="#formula_8">10</ref>) can be approximated as</p><formula xml:id="formula_9">  φ θ ψ  ≈   cos(ψ) sin(ψ) 0 -sin(ψ) cos(ψ) 0 0 0 1   ω<label>(11)</label></formula><p>which is equivalent to</p><formula xml:id="formula_10">  φ θ ψ  ≈ R z (ψ)ω<label>(12)</label></formula><p>Note that the order in which the Euler angle rotations are defined is important; with an alternate sequence of rotations, the approximation will be inaccurate for reasonable robot orientations. Equation ( <ref type="formula">6</ref>) can be approximated with:</p><formula xml:id="formula_11">d dt (Iω) = I ω + ω × (Iω) ≈ I ω<label>(13)</label></formula><p>This approximation has been made in controllers such as <ref type="bibr" target="#b12">[13]</ref>, and discards the effect of precession and nutation of the rotating body. The ω × (Iω) term is small for bodies with small angular velocities and does not contribute significantly to the dynamics of the robot. The inertia tensor in the world coordinate system can be found with</p><formula xml:id="formula_12">I = R B I R<label>(14)</label></formula><p>which, for small roll and pitch angles, can be approximated by</p><formula xml:id="formula_13">Î = R z (ψ) B I R z (ψ)<label>(15)</label></formula><p>where B I is the inertia tensor in body coordinates.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Simplified Robot Dynamics</head><p>The approximated orientation dynamics and translational dynamics can be combined into the following form:</p><formula xml:id="formula_14">d dt     Θ p ω p     =     0 3 0 3 R z (ψ) 0 3 0 3 0 3 0 3 1 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3 0 3         Θ p ω p     +     0 3 . . . 0 3 0 3 . . . 0 3 Î-1 [r 1 ] × . . . Î-1 [r n ] × 1 3 /m . . . 1 3 /m        f 1 . . . f n    +     0 0 0 g    <label>(16</label></formula><p>) Equation ( <ref type="formula" target="#formula_14">16</ref>) can be rewritten with an additional gravity state to put the dynamics into the convenient state-space form:</p><formula xml:id="formula_15">ẋ(t) = A c (ψ)x(t) + B c (r 1 , ..., r n , ψ)u(t)<label>(17)</label></formula><p>where A c ∈ R 13×13 and B c ∈ R 13×3n . This form depends only on yaw and footstep locations. If these can be computed ahead of time, the dynamics become linear time-varying, which is suitable for convex model predictive control.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>MODEL PREDICTIVE CONTROL</head><p>Desired ground reaction forces are found with a discretetime finite-horizon model predictive controller. Because we consider ground reaction forces instead of joint torques, the predictive controller does not need to be aware of the configuration or kinematics of the leg. In general, model predictive controllers contain a model of the system to be controlled, and on each iteration, start from the current state and find the optimal sequence of control inputs and the corresponding state trajectory over the finite-length prediction horizon, subject to constraints on the state trajectory and the control inputs. Because this process is repeated for every iteration, only the first timestep of the computed control input trajectory is applied before the controller runs again and new control inputs are computed. In this section, we consider an MPC problem with horizon length k in the standard form</p><formula xml:id="formula_16">min x,u k-1 i=0 ||x i+1 -x i+1,ref || Qi + ||u i || Ri (18) subject to x i+1 = A i x i + B i u i , i = 0 . . . k -1 (19) c i ≤ C i u i ≤ c i , i = 0 . . . k -1 (20) D i u i = 0, i = 0 . . . k -1 (21)</formula><p>where x i is the system state at time step i, u i is the control input at time step i, Q i and R i are diagonal positive semidefinite matrices of weights, A i and B i represent the discrete time system dynamics, C i , c i , and c i represent inequality constraints on the control input, and D i is a matrix which selects forces corresponding with feet not in contact with the ground at timestep i. The notation ||a|| S is used to indicate the weighted norm a Sa. The controller in this form attempts to find a sequence of control inputs that will guide the system along the trajectory x ref , trading off tracking accuracy for control effort, while obeying constraints. In the event that the system cannot exactly track the reference trajectory, which is often the case due to uncontrollable dynamics during periods of underactuation, or due to constraints, the predictive controller finds the best solution, in the least squares sense, over the prediction horizon. The optimization over the horizon while taking into account future constraints enables the predictive controller to plan ahead for periods of flight and regulate the states of the body during a gait when the body is always underactuated, such as bounding.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Force Constraints</head><p>The equality constraint in ( <ref type="formula">21</ref>) is used to set all forces from feet off the ground to zero, enforcing the desired gait. The inequality constraint in <ref type="bibr" target="#b19">(20)</ref> is used to set the following 10 inequality constraints for each foot on the ground</p><formula xml:id="formula_17">f min ≤ f z ≤ f max (22) -µf z ≤ ±f x ≤ µf z (23) -µf z ≤ ±f y ≤ µf z<label>(24)</label></formula><p>These constraints limit the minimum and maximum z-force as well as a square pyramid approximation of the friction cone.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Reference Trajectory Generation</head><p>The desired robot behavior is used to construct the reference trajectory. In our application, our reference trajectories are simple and only contain non-zero xy-velocity, xyposition, z position, yaw, and yaw rate. All parameters are commanded directly by the robot operator except for yaw and xy-position, which are determined by integrating the appropriate velocities. The other states (roll, pitch, roll rate, pitch rate, and z-velocity) are always set to 0. The reference trajectory is also used to determine the dynamics constraints and future foot placement locations. In practice, the reference trajectory is short (between 0.5 and 0.3 seconds) and recalculated often (every 0.05 to 0.03 seconds) to ensure the simplified dynamics remain accurate if the robot is disturbed.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Linear Discrete Time Dynamics</head><p>For each point n in the reference trajectory, an approximate Bc [n] ∈ R 13×3n matrix is computed from the B c (r 1 , ..., r n , ψ) matrix defined in <ref type="bibr" target="#b16">(17)</ref> using desired values of ψ and r i from the reference trajectory and foot placement controller. Similarly, a single Âc ∈ R 13×13 matrix is computed for the entire reference trajectory using the average value of ψ during the reference trajectory. The B c (r 1 , ..., r n , ψ) and A c matrices are converted to a zero order hold discrete time model using the state transition matrix of the extended linear system:</p><formula xml:id="formula_18">d dt x u = A B 0 0 x u<label>(25)</label></formula><p>This simplification allows us to express the dynamics in the discrete time form</p><formula xml:id="formula_19">x[n + 1] = Âx[n] + B[n]u[n]<label>(26)</label></formula><p>The approximation in ( <ref type="formula" target="#formula_19">26</ref>) is only accurate if the robot is able to follow the reference trajectory. Large deviations from the reference trajectory, possibly caused by external or terrain disturbances, will result in B[n] being inaccurate. However, for the first time step, B[n] is calculated from the current robot state, and will always be correct. If, at any point, the robot is disturbed from following the reference trajectory, the next iteration of the MPC, which happens at most 40 ms after the disturbance, will recompute the reference trajectory based on the disturbed robot state, allowing it compensate for a disturbance.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>D. QP Formulation</head><p>The optimization problem in ( <ref type="formula">18</ref>) is reformulated to reduce problem size. While a solver that could take advantage of the sparsity and structure of our problem is likely to be the fastest solution, it was more straightforward and sufficiently fast to ignore the structure and sparsity and instead work on reducing the size of the problem. With a solver that does not exploit the sparsity of the problem, the formulation in equation ( <ref type="formula">18</ref>) has a cubic time complexity with respect to horizon length, number of states (both control input and state trajectory), and number of constraints (both force and dynamics), so we achieve a significant speedup by removing the dynamics constraints and state trajectory from the constraints and optimization variables and include them in the cost function instead. This formulation also allows us to eliminate trivial optimization variables that are constrained to zero by ( <ref type="formula">21</ref>) so that we are only optimizing forces for feet which are on the ground. This is based on the condensed formulation discussed in <ref type="bibr" target="#b28">[29]</ref>, but includes time-varying dynamics and state reference.</p><p>The condensed formulation allows the dynamics to be written as</p><formula xml:id="formula_20">X = A qp x 0 + B qp U (<label>27</label></formula><formula xml:id="formula_21">)</formula><p>where X ∈ R 13k is the vector of all states during the prediction horizon and U ∈ R 3nk is the vector of all control inputs during the prediction horizon.</p><p>The objective function which minimizes the weighted least-squares deviation from the reference trajectory and the weighted force magnitude is:</p><formula xml:id="formula_22">J(U) = ||A qp x 0 + B qp U -x ref || L + ||U|| K (<label>28</label></formula><formula xml:id="formula_23">)</formula><p>where L ∈ R 13k×13k is a diagonal matrix of weights for state deviations, K ∈ R 3nk×3nk is a diagonal matrix of weights for force magnitude, and U and X are the vectors of all control inputs and states during the prediction horizon. On the robot, we chose an equal weighting of forces K = α1 3nk . The problem can be rewritten as:</p><formula xml:id="formula_24">min U 1 2 U HU + U g (29) s. t. c ≤ CU ≤ c (<label>30</label></formula><formula xml:id="formula_25">)</formula><p>where C is the constraint matrix and</p><formula xml:id="formula_26">H = 2(B qp LB qp + K)<label>(31)</label></formula><formula xml:id="formula_27">g = 2B qp L(A qp x 0 -y)<label>(32)</label></formula><p>The desired ground reaction forces are then the first 3n elements of U. Notice that H ∈ R 3nk×3nk and g ∈ R 3nk×1</p><p>both have no size dependence on the number of states, only number of feet n and horizon length k.</p><p>V. RESULTS </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. Experimental Setup</head><p>The proposed controller was implemented on the MIT Cheetah 3 Robot <ref type="bibr" target="#b25">[26]</ref> with a horizon length of one gait cycle (0.33 to 0.5 seconds), subdivided into between 10 and 16 timesteps, depending on the gait selected. New predictions were made at frequencies between 25 and 50 Hz, depending on the gait selected. Reference trajectories and desired gaits were generated based on inputs from a video game controller. Table I contains all parameters used for the predictive controller.</p><p>The result from the optimization is used directly and without filter in (4) to find joint torques. State estimation, swing leg planning, and leg impedance control happen at 1 kHz.</p><p>A simple heuristic function inspired by <ref type="bibr" target="#b0">[1]</ref> is used to plan desired foot locations in the xy-plane of the world coordinate system:</p><formula xml:id="formula_28">p des = p ref + v CoM ∆t/2 (<label>33</label></formula><formula xml:id="formula_29">)</formula><p>where ∆t is the time the foot will spend on the ground, p ref is the location on the ground beneath the hip of the robot, and v CoM is the velocity of the robot's center of mass projected onto the xy-plane. The state estimator is used to determine these values for the current time step, and the reference trajectory is used for future values. The values of For full videos, see https://www.youtube.com/watch?v= q6zxCvCxhic Fig. <ref type="figure">4</ref>. Solve time during galloping p des are used for both the swing leg controller and to find r i for the predictive controller.</p><p>The robot has an onboard computer with an Intel i7 laptop processor from 2011 and runs Ubuntu Linux with a kernel patched with CONFIG PREEMPT RT. The high level control code, including state estimation, swing leg control, and the dynamics calculations are implemented in MAT-LAB/Simulink and converted into C code. The MPC setup described in paper is implemented in C++. The software uses the Eigen3 linear algebra library <ref type="bibr" target="#b29">[30]</ref> and the qpOASES <ref type="bibr" target="#b23">[24]</ref> quadratic programming library. The qpOASES solver specializes in solving quadratic programs for MPC with the online active set strategy <ref type="bibr" target="#b30">[31]</ref> and was used to solve the convex optimization problem. See Figure <ref type="figure">4</ref> for a distribution of typical solve times.</p><p>To evaluate the predictive controller, it was tested with all of the common gaits: standing, trotting, a flying-trot, pacing, bounding, pronking, and galloping as well as an original 3legged gait.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>B. Trotting</head><p>A simple trotting gait was very effective at speeds under 1.2 m/s. While trotting, the robot has no preferred direction of travel; it can easily travel forward, backward, sideways, and along a diagonal at speed, or even travel in straight line while rotating around its center. Figure <ref type="figure">5</ref> demonstrates an aggressive turn in place with rotation speeds over 150 deg/sec, resulting in a linear foot velocity with respect to the body of over 1 m/s while the foot is on the ground. Additionally, the figure shows a separate aggressive acceleration test from -1 to 1 m/s in two seconds. Our ability to achieve these velocities on a 10 meter by 1.3 meter platform demonstrates the agility of the robot. The trotting gait was also tested outdoors at speeds up to 1.2 m/s, with the robot untethered. To demonstrate robustness, the robot was driven on muddy and sloped ground and remained stable, even when the feet slipped in the mud.</p><p>When trotting forward at high speed, feet in swing may collide with feet lifting off the ground, effectively limiting our trotting gait to low speeds. The flying-trot adds a flight period, improving the top speed to 1.7 m/s, and allows the robot to spin in place at 180 deg/s.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>C. Disturbances and Stairs</head><p>To test the disturbance rejection of the controller, the robot was firmly kicked while trotting. The kick was forceful enough to accelerate the robot's body over 1 m/s sideways, but the robot was able to recover while keeping roll and pitch within 10 degrees of level, as shown in Figure <ref type="figure">7</ref>.</p><p>The flying trot gait was also tested on a staircase with 4 full size steps, which it was able to climb reliably. Approximately 15 pieces of wood simulating debris were scattered on the staircase to intentionally make the robot's feet slip. The swing trajectory height was increased to allow the feet to reach the next step, but the robot otherwise had no knowledge of the staircase. Contact detection algorithms <ref type="bibr" target="#b24">[25]</ref> allowed the gait to be modified in real time as the feet touched down earlier or later than anticipated. We attempted to climb and descend the debris covered staircase 3 times. On the first attempt, the robot's front feet reached the top, but the operator mistakenly commanded a yaw rate of 120 deg/sec, causing a foot to step off the staircase, at which point the robot was shut off. The second attempt was successful at climbing and descending the stairs. In the third attempt, the robot again reached the top step and had a rear foot step off the staircase, causing the knee to invert. The robot slipped down a few stairs and regained control with its front feet on the first step. The operator commanded the robot to correct the orientation of the knee and tried again. This time, the robot was successful in ascending the stairs, but on the way down, as the front feet were about to step off the staircase, the robot kicked its own power switch and shut off. To the best of our knowledge, this is the first time a legged robot has climbed a staircase while using a dynamic gait with a flight period.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>D. Pronking/Jumping</head><p>To demonstrate the robustness of our controller, we tested a pronking gait, which is a sequence of short jumps approximately 15 cm high. The robot spends 150 ms with all four feet on the ground, followed by 350 ms of flight. The robot is able to land and stabilize itself during the 150 ms of ground contact, allowing it to pronk in place indefinitely. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>E. Bounding and Galloping</head><p>Bounding on Cheetah 3 is able to achieve higher speeds than trotting due to the higher gait frequency (3.3 Hz) and longer flight times. When bounding with low flight times, the legs must be narrowed in the front so that the rear feet can swing past. For our bounding gait, each foot is on the ground for 90 ms and in swing for 210 ms. While bounding, the robot was able to rotate in place at speeds up to 180 deg/sec. To demonstrate the stability of the controller, the spacing between the left and right feet was decreased until the robot fell. The robot was able to bound with the feet 10 cm apart indefinitely. With the feet 5 cm apart from each other, the robot was able to bound, but had poor control of sideways velocity, limiting the test to roughly 10 footsteps. Figure <ref type="figure">6</ref> shows the orientation during 2.25 m/s bounding. Bounding was tested up to 2.5 m/s and likely can go faster, however, galloping was observed to be much smoother, so it was used for all high speed tests. Galloping was able to reach a maximum speed of 3 m/s, at which point it became challenging to keep the robot on the treadmill. Figure <ref type="figure" target="#fig_0">10</ref> shows accurate velocity tracking of galloping up to the maximum speed, and Figures <ref type="figure">8</ref> and<ref type="figure">9</ref> show leg and controller data during 2.5 m/s galloping. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>F. Limitations at High Speed</head><p>The MIT Cheetah 3 robot was developed with the intent to operate efficiently, carrying payloads indoors and near humans. As a result, its actuators and legs are designed for lower speeds than Cheetah 2, limiting the linear velocity of the feet. When testing high speed locomotion, the legs installed on Cheetah 3 had a maximum velocity of 15 rad/sec, significantly slower than the maximum of 24 rad/sec, observed on Cheetah 2. When operating near the hip velocity limit, the swing leg controller does not track well. In our attempts to go faster than 3 m/s, the legs could not swing far enough forward in time, causing the robot's orientation control to become less accurate. The robot was able to handle the increased roll and pitch error, but it became challenging to keep the robot on the 1.3 meter wide treadmill due to drift in yaw velocity. All of our high speed tests ended either with the robot accidentally being driven off the side of the treadmill or with a mechanical failure of the robot. We suspect that with increased leg velocity, higher speeds can be reached. In our full, multi-body simulation of the robot, we have achieved speeds up to 6 m/s when we increase leg velocity to a maximum of 30 rad/sec.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>VI. CONCLUSIONS AND FUTURE WORK</head><p>Despite significant simplifications to the robot dynamics model, the controller is shown to have good performance with a variety of gaits. We believe our controller is successful because our approximate model still captures many of the important details of locomotion, including the ground reaction force constraints. We find that a highly accurate model of the robot's dynamics during the prediction horizon is less important than an accurate model of the robot's instantaneous dynamics. Our approach updates the dynamics during the prediction horizon frequently and with minimal delay, ensuring the instantaneous approximation is always accurate. Between iterations of our control algorithm, a linear approximation of dynamics appears to be sufficient.</p><p>In the future, we plan to more thoroughly investigate different gaits and aggressive behaviors. It is very likely that higher speeds and greater stability can be achieved by designing a more favorable gait. So far, all of the gaits used with the proposed controller were created manually, and imitated gaits found in dogs and other legged robots. We plan to replace these predetermined gaits with contact patterns determined by a higher level planner to improve the robustness and performance of our locomotion. This framework would allow the higher-level planner to run slowly and the low-level predictive controller can continue to run rapidly.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>Fig. 1 .</head><label>1</label><figDesc>Fig. 1. The MIT Cheetah 3 Robot galloping at 2.5 m/s</figDesc><graphic coords="1,349.20,133.76,172.81,92.83" type="bitmap" /></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Fig. 2 .Fig. 3 .</head><label>23</label><figDesc>Fig. 2. Control system block diagram. The reference trajectory contains desired velocities and contact sequence from the operator. Blocks shaded blue run at 30 Hz, blocks shaded red run at 1 kHz, and blocks shaded green run at 4.5 kHz.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>Fig. 5 .Fig. 6 .Fig. 7 .Fig. 8 .</head><label>5678</label><figDesc>Fig. 5. Turning while trotting in place and separate acceleration test</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3"><head>Fig. 9 .Fig. 10 .</head><label>910</label><figDesc>Fig.9.Commanded forces and estimated orientation during 2.5 m/s galloping</figDesc></figure>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="4" xml:id="foot_0"><p>In this paper, the term dynamic gaits is used to refer to gaits with significant periods of flight or underactuation.</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" xml:id="foot_1"><p>978-1-5386-8094-0/18/$31.00 ©2018 IEEE</p></note>
		</body>
		<back>

			<div type="funding">
<div xmlns="http://www.tei-c.org/ns/1.0"><p>This work was supported by the National Science Foundation [NSF-IIS-1350879] and the Air Force Office of Scientific Research [FA2386-17-1-4661]</p></div>
			</div>

			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<monogr>
		<author>
			<persName><forename type="first">M</forename><forename type="middle">H</forename><surname>Raibert</surname></persName>
		</author>
		<title level="m">Legged Robots That Balance</title>
		<meeting><address><addrLine>Cambridge, MA, USA</addrLine></address></meeting>
		<imprint>
			<publisher>Massachusetts Institute of Technology</publisher>
			<date type="published" when="1986">1986</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">High-speed bounding with the mit cheetah 2: Control design and experiments</title>
		<author>
			<persName><forename type="first">H.-W</forename><surname>Park</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">The International Journal of Robotics Research</title>
		<imprint>
			<biblScope unit="volume">36</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="167" to="192" />
			<date type="published" when="2017">2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<analytic>
		<title level="a" type="main">Evolution of a 3d gallop in a quadrupedal model with biological characteristics</title>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">P</forename><surname>Krasny</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">E</forename><surname>Orin</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of Intelligent &amp; Robotic Systems</title>
		<imprint>
			<biblScope unit="volume">60</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="59" to="82" />
			<date type="published" when="2010">2010</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b3">
	<analytic>
		<title level="a" type="main">A combined limit cycle -zero moment point based approach for omni-directional quadrupedal bounding</title>
		<author>
			<persName><forename type="first">R</forename><surname>Orsolino</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Focchi</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">G</forename><surname>Caldwell</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><surname>Semini</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">International Conference on Climbing and Walking Robots (CLAWAR)</title>
		<imprint>
			<date type="published" when="2017">2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<analytic>
		<title level="a" type="main">Practice makes perfect: An optimization-based approach to controlling agile motions for a quadruped robot</title>
		<author>
			<persName><forename type="first">C</forename><surname>Gehring</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Coros</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Hutler</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><forename type="middle">D</forename><surname>Bellicoso</surname></persName>
		</author>
		<author>
			<persName><forename type="first">H</forename><surname>Heijnen</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Diethelm</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Bloesch</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><surname>Fankhauser</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Hwangbo</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Hoepflinger</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Siegwart</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Robotics Automation Magazine</title>
		<imprint>
			<biblScope unit="volume">23</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="34" to="43" />
			<date type="published" when="2016-03">March 2016</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<analytic>
		<title level="a" type="main">Nonlinear model predictive control for rough-terrain robot hopping</title>
		<author>
			<persName><forename type="first">M</forename><surname>Rutschmann</surname></persName>
		</author>
		<author>
			<persName><forename type="first">B</forename><surname>Satzinger</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Byl</surname></persName>
		</author>
		<author>
			<persName><forename type="first">K</forename><surname>Byl</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2012 IEEE/RSJ International Conference on Intelligent Robots and Systems</title>
		<imprint>
			<date type="published" when="2012-10">Oct 2012</date>
			<biblScope unit="page" from="1859" to="1864" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<analytic>
		<title level="a" type="main">Whole-body model-predictive control applied to the hrp-2 humanoid</title>
		<author>
			<persName><forename type="first">J</forename><surname>Koenemann</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><forename type="middle">D</forename><surname>Prete</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Tassa</surname></persName>
		</author>
		<author>
			<persName><forename type="first">E</forename><surname>Todorov</surname></persName>
		</author>
		<author>
			<persName><forename type="first">O</forename><surname>Stasse</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Bennewitz</surname></persName>
		</author>
		<author>
			<persName><forename type="first">N</forename><surname>Mansard</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2015 IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)</title>
		<imprint>
			<date type="published" when="2015-09">Sept 2015</date>
			<biblScope unit="page" from="3346" to="3351" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<analytic>
		<title level="a" type="main">Synthesis and stabilization of complex behaviors through online trajectory optimization</title>
		<author>
			<persName><forename type="first">Y</forename><surname>Tassa</surname></persName>
		</author>
		<author>
			<persName><forename type="first">T</forename><surname>Erez</surname></persName>
		</author>
		<author>
			<persName><forename type="first">E</forename><surname>Todorov</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2012 IEEE/RSJ International Conference on Intelligent Robots and Systems</title>
		<imprint>
			<date type="published" when="2012-10">Oct 2012</date>
			<biblScope unit="page" from="4906" to="4913" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">Policy-regularized model predictive control to stabilize diverse quadrupedal gaits for the mit cheetah</title>
		<author>
			<persName><forename type="first">G</forename><surname>Bledt</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2017 IEEE International Conference on Intelligent Robots and Systems</title>
		<imprint>
			<date type="published" when="2017">2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">Gait and trajectory optimization for legged systems through phase-based end-effector parameterization</title>
		<author>
			<persName><forename type="first">A</forename><forename type="middle">W</forename><surname>Winkler</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">C</forename><surname>Bellicoso</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Hutter</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Buchli</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Robotics and Automation Letters (RA-L)</title>
		<imprint>
			<date type="published" when="2018-05">may 2018</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<analytic>
		<title level="a" type="main">Fast trajectory optimization for legged robots using vertex-based zmp constraints</title>
		<author>
			<persName><forename type="first">A</forename><forename type="middle">W</forename><surname>Winkler</surname></persName>
		</author>
		<author>
			<persName><forename type="first">F</forename><surname>Farshidian</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><surname>Pardo</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Neunert</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Buchli</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Robotics and Automation Letters (RA-L)</title>
		<imprint>
			<biblScope unit="volume">2</biblScope>
			<biblScope unit="page" from="2201" to="2208" />
			<date type="published" when="2017-10">oct 2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<monogr>
		<title level="m" type="main">Whole-Body Nonlinear Model Predictive Control Through Contacts for Quadrupeds</title>
		<author>
			<persName><forename type="first">M</forename><surname>Neunert</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Stäuble</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Giftthaler</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><forename type="middle">D</forename><surname>Bellicoso</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Carius</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><surname>Gehring</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Hutter</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Buchli</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2017-12">Dec. 2017</date>
		</imprint>
	</monogr>
	<note>ArXiv e-prints</note>
</biblStruct>

<biblStruct xml:id="b12">
	<analytic>
		<title level="a" type="main">High-slope terrain locomotion for torque-controlled quadruped robots</title>
		<author>
			<persName><forename type="first">M</forename><surname>Focchi</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><surname>Del Prete</surname></persName>
		</author>
		<author>
			<persName><forename type="first">I</forename><surname>Havoutis</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Featherstone</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">G</forename><surname>Caldwell</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><surname>Semini</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Autonomous Robots</title>
		<imprint>
			<biblScope unit="volume">41</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="259" to="272" />
			<date type="published" when="2017-01">Jan 2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b13">
	<analytic>
		<title level="a" type="main">Multiobjective control with frictional contacts</title>
		<author>
			<persName><forename type="first">Y</forename><surname>Abe</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Silva</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Popović</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Proceedings of the 2007 ACM SIG-GRAPH/Eurographics Symposium on Computer Animation, ser. SCA &apos;07</title>
		<meeting>the 2007 ACM SIG-GRAPH/Eurographics Symposium on Computer Animation, ser. SCA &apos;07<address><addrLine>Aire-la-Ville, Switzerland, Switzerland</addrLine></address></meeting>
		<imprint>
			<publisher>Eurographics Association</publisher>
			<date type="published" when="2007">2007</date>
			<biblScope unit="page" from="249" to="258" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<analytic>
		<title level="a" type="main">Push recovery by stepping for humanoid robots with force controlled joints</title>
		<author>
			<persName><forename type="first">B</forename><forename type="middle">J</forename><surname>Stephens</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><forename type="middle">G</forename><surname>Atkeson</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2010 10th IEEE-RAS International Conference on Humanoid Robots</title>
		<imprint>
			<date type="published" when="2010-12">Dec 2010</date>
			<biblScope unit="page" from="52" to="59" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<analytic>
		<title level="a" type="main">A collisional model of the energetic cost of support work qualitatively explains leg sequencing in walking and galloping, pseudo-elastic leg behavior in running and the walk-to-run transition</title>
		<author>
			<persName><forename type="first">A</forename><surname>Ruina</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><forename type="middle">E</forename><surname>Bertram</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Srinivasan</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of theoretical biology</title>
		<imprint>
			<biblScope unit="volume">237</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="170" to="192" />
			<date type="published" when="2005">2005</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b16">
	<analytic>
		<title level="a" type="main">Rapid acceleration in dogs: ground forces and body posture dynamics</title>
		<author>
			<persName><forename type="first">R</forename><forename type="middle">M</forename><surname>Walter</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">R</forename><surname>Carrier</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Journal of Experimental Biology</title>
		<imprint>
			<biblScope unit="volume">212</biblScope>
			<biblScope unit="issue">12</biblScope>
			<biblScope unit="page" from="1930" to="1939" />
			<date type="published" when="2009">2009</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b17">
	<analytic>
		<title level="a" type="main">Rotary gallop in the untethered quadrupedal robot scout ii</title>
		<author>
			<persName><forename type="first">J</forename><forename type="middle">A</forename><surname>Smith</surname></persName>
		</author>
		<author>
			<persName><forename type="first">I</forename><surname>Poulakakis</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2004 IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)</title>
		<imprint>
			<publisher>IEEE Cat</publisher>
			<date type="published" when="2004-09">Sept 2004</date>
			<biblScope unit="volume">3</biblScope>
			<biblScope unit="page" from="2556" to="2561" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b18">
	<analytic>
		<title level="a" type="main">Quadrupedal galloping control for a wide range of speed via vertical impulse scaling</title>
		<author>
			<persName><forename type="first">H.-W</forename><surname>Park</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Bioinspiration and Biomimetics</title>
		<imprint>
			<biblScope unit="volume">10</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page">25003</biblScope>
			<date type="published" when="2015">2015</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b19">
	<analytic>
		<title level="a" type="main">Introducing WildCat</title>
		<ptr target="https://www.youtube.com/" />
	</analytic>
	<monogr>
		<title level="m">watch?v= wE3fmFTtP9g</title>
		<imprint>
			<date type="published" when="2013-10">Oct 2013</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b20">
	<monogr>
		<author>
			<persName><forename type="first">S</forename><surname>Boyd</surname></persName>
		</author>
		<author>
			<persName><forename type="first">L</forename><surname>Vandenberghe</surname></persName>
		</author>
		<title level="m">Convex optimization</title>
		<imprint>
			<publisher>Cambridge university press</publisher>
			<date type="published" when="2004">2004</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b21">
	<analytic>
		<title level="a" type="main">Fast model predictive control using online optimization</title>
		<author>
			<persName><forename type="first">Y</forename><surname>Wang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Boyd</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Transactions on Control Systems Technology</title>
		<imprint>
			<biblScope unit="volume">18</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="267" to="278" />
			<date type="published" when="2010-03">March 2010</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b22">
	<analytic>
		<title level="a" type="main">ECOS: An SOCP solver for embedded systems</title>
		<author>
			<persName><forename type="first">A</forename><surname>Domahidi</surname></persName>
		</author>
		<author>
			<persName><forename type="first">E</forename><surname>Chu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Boyd</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">European Control Conference (ECC)</title>
		<imprint>
			<date type="published" when="2013">2013</date>
			<biblScope unit="page" from="3071" to="3076" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b23">
	<analytic>
		<title level="a" type="main">qpOASES: A parametric active-set algorithm for quadratic programming</title>
		<author>
			<persName><forename type="first">H</forename><surname>Ferreau</surname></persName>
		</author>
		<author>
			<persName><forename type="first">C</forename><surname>Kirches</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><surname>Potschka</surname></persName>
		</author>
		<author>
			<persName><forename type="first">H</forename><surname>Bock</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Diehl</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Mathematical Programming Computation</title>
		<imprint>
			<biblScope unit="volume">6</biblScope>
			<biblScope unit="issue">4</biblScope>
			<biblScope unit="page" from="327" to="363" />
			<date type="published" when="2014">2014</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b24">
	<analytic>
		<title level="a" type="main">Contact model fusion for event-based locomotion in unstructured terrains</title>
		<author>
			<persName><forename type="first">G</forename><surname>Bledt</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Ingersoll</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2018 IEEE International Conference on Robotics and Automation</title>
		<imprint>
			<date type="published" when="2018">2018</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b25">
	<analytic>
		<title level="a" type="main">Mit cheetah 3: Design and control of a robust, dynamics quadruped robot</title>
		<author>
			<persName><forename type="first">G</forename><surname>Bledt</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><forename type="middle">J</forename><surname>Powell</surname></persName>
		</author>
		<author>
			<persName><forename type="first">B</forename><surname>Katz</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Di Carlo</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2018 IEEE International Conference on Intelligent Robots and Systems</title>
		<imprint>
			<date type="published" when="2018">2018</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b26">
	<analytic>
		<title level="a" type="main">Proprioceptive actuator design in the mit cheetah: Impact mitigation and high-bandwidth physical interaction for dynamic legged robots</title>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">M</forename><surname>Wensing</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><surname>Wang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Seok</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><surname>Otten</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Lang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">S</forename><surname>Kim</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Transactions on Robotics</title>
		<imprint>
			<biblScope unit="volume">33</biblScope>
			<biblScope unit="issue">3</biblScope>
			<biblScope unit="page" from="509" to="522" />
			<date type="published" when="2017-06">June 2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b27">
	<monogr>
		<title level="m" type="main">Introduction to Robotics: Mechanics and Control, ser. Addison-Wesley series in electrical and computer engineering: control engineering</title>
		<author>
			<persName><forename type="first">J</forename><surname>Craig</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2005">2005</date>
			<publisher>Pearson/Prentice Hall</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b28">
	<analytic>
		<title level="a" type="main">A condensed and sparse qp formulation for predictive control</title>
		<author>
			<persName><forename type="first">J</forename><forename type="middle">L</forename><surname>Jerez</surname></persName>
		</author>
		<author>
			<persName><forename type="first">E</forename><forename type="middle">C</forename><surname>Kerrigan</surname></persName>
		</author>
		<author>
			<persName><forename type="first">G</forename><forename type="middle">A</forename><surname>Constantinides</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">2011 50th IEEE Conference on Decision and Control and European Control Conference</title>
		<imprint>
			<date type="published" when="2011-12">Dec 2011</date>
			<biblScope unit="page" from="5217" to="5222" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b29">
	<monogr>
		<title level="m" type="main">Eigen v3</title>
		<author>
			<persName><forename type="first">G</forename><surname>Guennebaud</surname></persName>
		</author>
		<author>
			<persName><forename type="first">B</forename><surname>Jacob</surname></persName>
		</author>
		<ptr target="http://eigen.tuxfamily.org" />
		<imprint>
			<date type="published" when="2010">2010</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b30">
	<analytic>
		<title level="a" type="main">An online active set strategy to overcome the limitations of explicit mpc</title>
		<author>
			<persName><forename type="first">H</forename><surname>Ferreau</surname></persName>
		</author>
		<author>
			<persName><forename type="first">H</forename><surname>Bock</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Diehl</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">International Journal of Robust and Nonlinear Control</title>
		<imprint>
			<biblScope unit="volume">18</biblScope>
			<biblScope unit="issue">8</biblScope>
			<biblScope unit="page" from="816" to="830" />
			<date type="published" when="2008">2008</date>
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
