<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:space="preserve" xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 https://raw.githubusercontent.com/kermitt2/grobid/master/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Ranking-Based Survival Prediction on Histopathological Whole-Slide Images</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName><forename type="first">Donglin</forename><surname>Di</surname></persName>
							<idno type="ORCID">0000-0002-2270-3378</idno>
							<affiliation key="aff0">
								<orgName type="department">School of Software</orgName>
								<orgName type="institution" key="instit1">BNRist</orgName>
								<orgName type="institution" key="instit2">THUIBCS</orgName>
								<orgName type="institution" key="instit3">KLISS</orgName>
								<orgName type="institution" key="instit4">Tsinghua University</orgName>
								<address>
									<settlement>Beijing</settlement>
									<country key="CN">China</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName><forename type="first">Shengrui</forename><surname>Li</surname></persName>
							<idno type="ORCID">0000-0003-3780-6182</idno>
						</author>
						<author>
							<persName><forename type="first">Jun</forename><surname>Zhang</surname></persName>
							<idno type="ORCID">0000-0001-5579-7094</idno>
							<affiliation key="aff0">
								<orgName type="department">School of Software</orgName>
								<orgName type="institution" key="instit1">BNRist</orgName>
								<orgName type="institution" key="instit2">THUIBCS</orgName>
								<orgName type="institution" key="instit3">KLISS</orgName>
								<orgName type="institution" key="instit4">Tsinghua University</orgName>
								<address>
									<settlement>Beijing</settlement>
									<country key="CN">China</country>
								</address>
							</affiliation>
							<affiliation key="aff1">
								<orgName type="department">Tencent AI Lab</orgName>
								<address>
									<settlement>Shenzhen, Guangdong</settlement>
									<country key="CN">China</country>
								</address>
							</affiliation>
						</author>
						<author role="corresp">
							<persName><forename type="first">Yue</forename><surname>Gao</surname></persName>
							<email>gaoyue@tsinghua.edu.cn</email>
							<idno type="ORCID">0000-0002-4971-590X</idno>
							<affiliation key="aff0">
								<orgName type="department">School of Software</orgName>
								<orgName type="institution" key="instit1">BNRist</orgName>
								<orgName type="institution" key="instit2">THUIBCS</orgName>
								<orgName type="institution" key="instit3">KLISS</orgName>
								<orgName type="institution" key="instit4">Tsinghua University</orgName>
								<address>
									<settlement>Beijing</settlement>
									<country key="CN">China</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Ranking-Based Survival Prediction on Histopathological Whole-Slide Images</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
					<idno type="DOI">10.1007/978-3-030-59722-1_41</idno>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<encodingDesc>
			<appInfo>
				<application version="0.7.2" ident="GROBID" when="2023-01-01T13:44+0000">
					<desc>GROBID - A machine learning software for extracting information from scholarly documents</desc>
					<ref target="https://github.com/kermitt2/grobid"/>
				</application>
			</appInfo>
		</encodingDesc>
		<profileDesc>
			<textClass>
				<keywords>
					<term>Survival prediction</term>
					<term>WSI</term>
					<term>Ranking</term>
					<term>Hypergraph</term>
				</keywords>
			</textClass>
			<abstract>
<div xmlns="http://www.tei-c.org/ns/1.0"><p>Survival prediction for patients based on gigapixel histopathological whole-slide images (WSIs) has attracted increasing attention in recent years. Previous studies mainly focus on the framework of predicting the survival hazard scores based on one individual WSI for each patient directly. These prediction methods ignore the relative survival differences among patients, i.e., the ranking information, which is important for a regression task. Under such circumstances, we propose a ranking-based survival prediction method on WSIs -RankSurv, which takes the ranking information into consideration during the learning process. First, a hypergraph representation is introduced to conduct hazard prediction on each WSI respectively, which is able to learn the high-order correlation among different patches in the WSI. Then, a ranking-based prediction process is conducted using pairwise survival data. Experiments are conducted on three public carcinoma datasets (i.e., LUSC, GBM, and NLST). Quantitative results show that the proposed method significantly outperforms state-of-the-art methods on all three datasets, which demonstrates the effectiveness of the proposed ranking-based survival prediction framework.</p></div>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1">Introduction</head><p>In recent years, survival prediction on gigapixel histopathological whole-slide images (WSIs) <ref type="bibr" target="#b21">[22]</ref> has become a hot task in the medical imaging field <ref type="bibr" target="#b13">[14,</ref><ref type="bibr" target="#b18">[19]</ref><ref type="bibr" target="#b19">[20]</ref><ref type="bibr" target="#b20">[21]</ref>. This task aims at modeling the survival duration, which elapses from the beginning of follow-up to a certain event of interest (e.g., biological death) that occurs, directly from histopathological WSIs.</p><p>Previous studies mainly address the survival prediction task by conducting a regression model on the WSI for each patient directly <ref type="bibr" target="#b13">[14,</ref><ref type="bibr" target="#b18">19,</ref><ref type="bibr" target="#b19">20]</ref>, while ignoring the relative ranking order among these patients. Besides the prediction on each individual data directly, it is noted that the ranking order plays an even more important role when comparing different data <ref type="bibr" target="#b0">[1]</ref>. The ranking order information among the group is more essential to differentiate the targets compared with the single values for each individual.</p><p>The key challenges lie in two aspects. First, how to better represent the WSI targeting on hazard prediction based on single WSI directly. Second, how to incorporate the ranking order information in the survival prediction process.</p><p>To tackle the above issues, we propose a ranking-based survival prediction method on WSIs -RankSurv, which takes the ranking information into consideration during the learning process. First, a hypergraph representation is introduced to conduct hazard prediction on each WSI respectively, which is able to learn the high-order correlation among different patches in the WSI. Then, a ranking-based prediction process is conducted using pairwise survival data.</p><p>We have conducted experiments on three public medical datasets (i.e., LUSC, GBM, and NLST). Experimental results and comparisons show that our method achieves significant and consistent improvement compared with state-of-the-art methods.</p><p>The main contributions of this paper are summarized as follows:</p><p>-Different from traditional survival prediction methods using individual WSI, we propose a ranking-based survival prediction framework, which can take the ranking order information into consideration and lead to better performance. -To better investigate each WSI, we propose a hypergraph representation method for hazard prediction on one WSI, which is able to learn the highorder correlation among different patches in the WSI. -The proposed method consistently outperforms state-of-the-art methods by a large margin. Specifically, it achieves the prediction accuracy of 66.08%, 66.27%, and 68.20% on the C-index metric, which are respectively, 5.98%, 7.49% and 7.33% relative improvements on the LUSC, GBM, and NLST datasets over the state-of-the-art.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2">Ranking-Based Survival Prediction</head><p>As shown in Fig. <ref type="figure" target="#fig_0">1</ref>, we design a framework called Ranking-based Survival Prediction Network (RankSurv), which consists of three stages: "Preprocessing", "Hazard prediction using hypergraph representation" and "Survival rank prediction" to predict the survival hazard score as well as pairwise ranking results in an end-to-end manner. The first stage extracts raw patch-level features of patches sampled from the input original WSI data. After that, we feed the patchlevel features to the hazard prediction stage based on a hypergraph regression model to fine-tune the representation and predict the hazard score. Finally, we design a ranking-specific back-propagation mechanism to take advantage of the supervision from pairwise ranking loss. We will go through each step in detail.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.1">Preprocessing</head><p>Given a set of WSIs from M patients with their corresponding labels, i.e. the input data can be represented as: </p><formula xml:id="formula_0">D in = {C 1 , C 2 , ..., C M }, M ≥ 2,</formula><formula xml:id="formula_1">C i = I i , t i , δ i , i ∈ [1, M],</formula><p>where I i stands for the i th image, t i and δ i indicate the observation time and survival status, respectively. The observation time t i is either a survival time (T event ) or a right-censored time (T censor ) for each case.</p><p>The δ i represents the survival status for the i th patient in a binary value, where 1 represents the uncensored case, and 0 represents the censored case.</p><p>The first stage of the framework extracts the base visual features from a given D in . We randomly sample K (e.g., 2000) patches from each of the images after scaling-down, masking, splitting informative tissues or cells by adopting the OTSU algorithm <ref type="bibr" target="#b15">[16]</ref>, which could avoid certain noise regions like blood, blank or erosion. Then, the primary patch-level visual features X = {x 1 , x 2 , ..., x M }, x i ∈ R K×F are generated by the backbone pre-trained model from ImageNet <ref type="bibr" target="#b16">[17]</ref>, where x i denotes the i th case's feature map, and the F denotes the length of each patch feature vector. This preprocessing strategy is motivated by <ref type="bibr" target="#b21">[22]</ref>, and the raw features extracted from the pre-trained model have already verified to be suitable for the stratification of intricate tissue patterns <ref type="bibr" target="#b1">[2]</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.2">Hazard Prediction Using Hypergraph Representation</head><p>As shown in Fig. <ref type="figure" target="#fig_0">1</ref>, we feed the raw patch representation X, extracted from the former preprocessing, to predict the survival hazard score. There are several choices to learn the fine-tuned survival-specific representation, such as CNNbased model <ref type="bibr" target="#b21">[22]</ref>, GCN-based model <ref type="bibr" target="#b13">[14]</ref> and FCN-based model <ref type="bibr" target="#b18">[19]</ref>. In addition to these baselines above, we further propose to utilize the hypergraph structure <ref type="bibr" target="#b5">[6,</ref><ref type="bibr" target="#b6">7,</ref><ref type="bibr" target="#b9">10]</ref> to represent the hierarchy information. The strategy of the hypergraph spectral convolution layer in our hazard prediction stage plays a crucial role in the training process. Since there is no unique mathematical definition of translation on the hypergraph from the spatial perspective, we propose the spectral hypergraph convolution for survival prediction basing on <ref type="bibr" target="#b5">[6]</ref>. The hypergraph consists of N hyperedges, and each hyperedge associates K entries constructed by the K-nearest neighbor method with the Euclidean distance, and the nodes in which are set to 1 and others are 0, so the incidence matrix H ∈ R N×k is built. The hyperedge provides an aisle that enables the most similar K patches to be integrated and homogenized so that the hierarchy grouping pattern could be learned beyond pairwise graph structure. Figure <ref type="figure" target="#fig_0">1</ref> illustrates that a spectral convolution layer is fed with two matrices, a node feature matrix X and a hypergraph incidence matrix H. The hypergraph convolutional layer is illustrated briefly in the formulation 1:</p><formula xml:id="formula_2">X (l+1) = σ D −1/2 v HWD −1 e H D −1/2 v X (l) Θ (l)<label>(1)</label></formula><p>where X (l) ∈ R N×C is a signal with N nodes and C dimensions that fed in layer l, X (l+1) is the output of layer l, σ denotes the nonlinear activation function like ReLU (•), and Θ (l) denotes a learnable parameter in the layer l. After several layers of spectral convolution, the N hyperedges could stand for the N patterns of pathogenic factors. The final learned patch-level features X n ∈ R N×Cn are obtained for survival prediction. After squeezing X n into X ∈ R 1×Cn , the firststep survival hazard score can be predicted temporally using a fully connected layer. And the back-propagation process of regression hazard scale is supervised by the observation time t i (denoted as the blue dotted arrow).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.3">Survival Rank Prediction</head><p>The most insightful module in our framework is the last but vital stage, i.e., supervising the back-propagation of ranking prediction at a higher level. The situation that the model cannot distinguish two close cases is the most likely reason causing the mistake of comparison. We here introduce a Bayesian-based strategy, called Bayesian Concordance Readjust (BCR), to further fine-tune the ranking prediction. Let H i and H j denote the hazard scores of i th and j th cases from D in , and H i , H j denote their corresponding predicted hazard scores, respectively. Note that the fine-tuned feature maps F i and F j generated from the second hazard prediction stage. The basic Concordance index (C-index) <ref type="bibr" target="#b8">[9]</ref> is widely adopted as a measure of goodness of fit for binary outcomes in a logistic regression model, and defined as follows:</p><formula xml:id="formula_3">C index (D in ) = 1 M i:δi=1 j:Ti&lt;Tj I[(T i , X i ) &lt; (T j , X j )] (<label>2</label></formula><formula xml:id="formula_4">)</formula><p>where M is the number of comparable pairs, I[.] denotes the indicator function, and T is the actual observation. The value of C-index ranges from 0 to 1 and the larger C-index value means the better prediction performance of the model and vice versa. Specifically, 0 is the worst condition, 1 is the best, and 0.5 is the value as a random guess. Note that the indicator matrix of C-index has a unique characteristic, as illustrated in the following formulation 3:</p><formula xml:id="formula_5">I(X i , X j ) + I(X j , X i ) = 1<label>(3)</label></formula><p>which means the target function for this task has to fit this characteristic, i.e., F (X i , X j ) = 1 − F (X j , X i ).</p><p>Different from this standard calculation process, we design the Bayesian optimization criterion to make the concordance index learnable and supervisable. The purpose of formulation is trying to maximize the pairwise ranking for all cases, i.e., maximizing the P (Θ|D in ), in the formulation 4.</p><formula xml:id="formula_6">P (Θ| D in ) = P (Θ)P ( D in |Θ) P ( D in ) ∝ P (Θ)P ( D in |Θ) := I(D in )<label>(4)</label></formula><p>where Θ represents the parameter vector of the prediction model, and D in denotes the latent representations for input data D in . The WSI prediction and ranking in each pair of data are independent with each other. Therefore, the purpose of the model is rewritten to optimize the following formulation 5:</p><formula xml:id="formula_7">C index (D in ) = I(D in ) I(D in )<label>(5)</label></formula><p>The above survival-specific likelihood function P ( D in |Θ) can be calculated as the formulation 6.</p><formula xml:id="formula_8">P ( D in |Θ) := i,j∈Din F (i, j)<label>(6)</label></formula><p>And the target function F is defined as follows:</p><formula xml:id="formula_9">F (i, j) = δ( X ij (Θ)), δ(x) := 1 1 + e −x (<label>7</label></formula><formula xml:id="formula_10">)</formula><p>where X ij (Θ) can be any anti-symmetric operation satisfying</p><formula xml:id="formula_11">X ij (Θ) = − X ji (Θ). In our model, X ij (Θ) := W • (X i (Θ) − X j (Θ)) T</formula><p>, where W 1×Cn is a linear weight vector and X i (Θ) ∈ R 1×Cn is the squeezed output from the last layer. And the other component is a general prior density P (Θ), following a normal distribution with zero mean and variance-covariance matrix Σ Θ :</p><formula xml:id="formula_12">P (Θ) ∼ N (0, Σ Θ )<label>(8)</label></formula><p>Therefore, the BCR loss function is designed as</p><formula xml:id="formula_13">Loss = − log δ(W • (X i − X j ) T )<label>(9)</label></formula><p>In this way, the final predictions are generated by the target function F .</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3">Experiments</head></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.1">Datasets</head><p>We mainly evaluate the proposed method on three datasets, including two lung cancer datasets (i.e., LUSC and NLST) and a brain carcinoma dataset (i.e., GBM) from the generic cancer patient dataset TCGA <ref type="bibr" target="#b10">[11]</ref>. These three datasets are used in two modes. On the one hand, we follow the experimental settings of previous methods <ref type="bibr" target="#b13">[14,</ref><ref type="bibr" target="#b19">20,</ref><ref type="bibr" target="#b21">22]</ref>, i.e., randomly selecting same scale of the WSIs from the corresponding three datasets for the training and evaluation. The datasets used in this mode are called the "Subset" datasets. On the other hand, we train and evaluate the proposed method with its competitors on the complete data from these three datasets. We denote the datasets used in this mode as the "Whole" datasets. In our implementation, five-fold cross-validation is employed to investigate the optimal parameter setting within the randomly selected training datasets. To verify the stability of the proposed method, we run the experiments five times for each set of parameter settings and compare their mean performance (Table <ref type="table" target="#tab_0">1</ref>). </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.2">Evaluation Metric</head><p>We adopt the C-index <ref type="bibr" target="#b8">[9]</ref> to evaluate the survival prediction performance of each model. Besides, the Receiver Operating Characteristic (ROC) <ref type="bibr" target="#b4">[5]</ref> is adopted as another evaluation criterion. Specifically, we divide the sample according to real recorded survival time into a high group and low group, representing a good prognosis and poor prognosis, respectively. The hazard of each sample generated by ranking prediction is treated as a classification criterion. As shown in Fig. <ref type="figure" target="#fig_1">2</ref>, the Area Under Curve (AUC) represents the overall accuracy of the regression under different thresholds. Similar to C-index, the larger AUC value means the better prediction performance of the model and vice versa.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.3">Methods for Comparison</head><p>In our experiments, the following state-of-the-art methods are compared: (1), DeepConvSurv <ref type="bibr" target="#b20">[21]</ref> proposed the first CNN-based survival prediction model. It directly takes sampled patches as input from the WSIs for training a CNN.</p><p>(2), WSISA <ref type="bibr" target="#b21">[22]</ref> proposed another CNN-based prediction model, which includes several separate stages to train several DeepConvSurv models independently.</p><p>(3), GCN <ref type="bibr" target="#b12">[13]</ref> is a general graph convolutional network based model. We use it as an extra baseline for the survival prediction task, taking the sampled patches as input to build up the graph structure. (4), DeepGraphSurv <ref type="bibr" target="#b13">[14]</ref> employs spectral GCN to take the topological relationships into consideration. Its regression model employs the Cox regression model <ref type="bibr" target="#b2">[3]</ref>. (5), Multi-instance Learning for Survival Prediction (MILSurv) <ref type="bibr" target="#b18">[19]</ref> proposed a model considering multiple slides from one patient and predict on the global representations.  </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.4">Implementation</head><p>The first step is sampling patches from original WSIs, where we adopt a public toolbox called "openslide" released in <ref type="bibr" target="#b7">[8]</ref>. After loading the raw WSI, we generate the background mask on one level. By utilizing the OTSU <ref type="bibr" target="#b15">[16]</ref> thresholding algorithm, we set the size of the patch as 256 pixels × 256 pixels and collect 2000 patches randomly from separated objects region. Visual features are extracted for each patch from pre-trained ResNet-34 on ImageNet <ref type="bibr" target="#b3">[4]</ref>, whose dimension is x 0 ∈ R 1×512 . The hypergraph node matrix X = (x 0 , x 1 , ...x 2000 ) is built up by vertical stacking, so that the dimension of which is</p><formula xml:id="formula_14">X n ∈ R 2000×512 .</formula><p>The extracted features X n ∈ R 2000×128 from the last hypergraph layer are squeezed into X s ∈ R 1×128 . We first take advantage of a fully connected layer with a sigmoid activation function to implement hazard regression and then further learn ranking information as shown in Fig. <ref type="figure" target="#fig_0">1</ref>.</p><p>Our model is trained on each dataset with 80% as training data and 20% as validation data, by randomly separating. Note that since we propose a pair-wise ranking loss, the strategy of sampling the pairs in training is to iterate over all data pairs, i.e., N 2  2 , where N denotes the number of cases in the training set. The learning rate is set to 0.0001. For hypergraph network, K (i.e., K-NN) in the hyperedge generation procedure is set as 9 and the number of hypergraph convolutional layers is set as 2. </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.5">Results and Discussions</head><p>The comparison results of all methods are summarized in Table <ref type="table" target="#tab_1">2</ref>. Note that the reported results for all baseline methods on the full-scale datasets are based on our implementations since all baseline methods, except the GCN <ref type="bibr" target="#b12">[13]</ref>, did not release their source codes. Based on the quantitative results shown in Table <ref type="table" target="#tab_1">2</ref>, we have the following observations: Considering the real situation, patients may only focus on whether their current disease is serious or not. Therefore, it is also tempting to adopt a logistic regression to divide prognosis into a high group and low group. Significantly, we find our RankSurv behave well in this task. Thus we get the following AUC curve on three datasets, as shown in the Fig. <ref type="figure" target="#fig_1">2</ref>. Further, to capture the over-all prognosis difference between high-risk group and low-risk group, we refer to the univariate KM-estimation <ref type="bibr" target="#b11">[12]</ref>, as shown in Fig. <ref type="figure" target="#fig_2">3</ref>. All samples are divided into high/low groups based on the result of hazard prediction through RankSurv. It can be observed that our result is reliable both from p-values and the significant differences in probability curves between the two groups. To evaluate the effectiveness of different components in our proposed framework, we have alternated the settings for the hazard prediction, the survival rank procedures and the loss function. The experimental results are shown in Table <ref type="table" target="#tab_2">3</ref>, where the following settings are used: replacing the hazard prediction using hypergraph representation by DeepGraphSurv <ref type="bibr" target="#b13">[14]</ref> (line 1); removing the survival rank prediction procedure (line 2); replacing the proposed survival rank prediction by RankNet <ref type="bibr" target="#b0">[1]</ref>, which is a commonly used ranking method (line 3) and the whole method RankSurv (line 4). For interpreting the usefulness of the proposed loss function (BCR), we replace BCR by traditional cox partial likelihood loss <ref type="bibr">(Cox)</ref> [3] (line 5), BoostCI <ref type="bibr" target="#b14">[15]</ref> (line 6), and EnCox <ref type="bibr" target="#b17">[18]</ref> (line 7), respectively. The following observations can be made from the results: (1) The introduced hazard prediction using hypergraph representation can achieve better performance compared with that of using DeepGraphSurv <ref type="bibr" target="#b13">[14]</ref>. (2) The use of ranking information can improve the performance (the results in line 3 and line 4 are better than the results in line 2). (3) The proposed rank prediction method is better than RankNet <ref type="bibr" target="#b0">[1]</ref> (the result in line 3). (4) The proposed loss function (BCR) outperforms existing classical methods significantly (line 8 is much better than lines 5, 6, and 7), which also demonstrates that considering the rank information is very effective and efficient.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4">Conclusion</head><p>In this paper, we propose a ranking-based survival prediction method (RankSurv) on WSIs. This method takes the relative ranking order information among different patients into consideration. In this method, a hypergraph representation is introduced to conduct hazard prediction on each WSI respectively, and then a ranking-based prediction process is conducted using pairwise survival data. Experiments on three public carcinoma datasets and comparisons with the state-of-the-art methods show superior prediction results of our proposed method. We have also investigated the effectiveness of different components in the proposed framework, and the ranking-based survival prediction framework shows better performance compared with that of using just each data individually.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>Fig. 1 .</head><label>1</label><figDesc>Fig. 1. Pipeline of our Ranking-based Survival Prediction Network (RankSurv). Firstly, we sample patches from the raw images and utilize a backbone model to extract raw patch-level features. Then the hypergraph signal matrix X and the hyperedges incidence matrix H are generated. After training by several hypergraph spectral convolutional layers, the regression module leverages the representation and masters the skills to predict the risk of given WSIs. In addition to the hazard prediction backpropagation, the third stage further fine-tunes the pairwise ranking and reach better representation and performance.</figDesc><graphic url="image-2.png" coords="3,41.79,54.35,340.33,174.34" type="bitmap" /></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Fig. 2 .</head><label>2</label><figDesc>Fig. 2.The ROC curves of our proposed RankSurv method on three datasets.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head>Fig. 3 .</head><label>3</label><figDesc>Fig.3. The KM-estimation curves of our proposed RankSurv method on three datasets.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_0"><head>Table 1 .</head><label>1</label><figDesc>Dataset statistics.</figDesc><table><row><cell cols="3">Datasets Cancer type Subset</cell><cell></cell><cell>Whole</cell><cell></cell><cell cols="2">Quality Avg. size</cell></row><row><cell></cell><cell></cell><cell cols="4">No. patient No. WSI No. patient No. WSI</cell><cell></cell><cell></cell></row><row><cell>TCGA</cell><cell>LUSC</cell><cell>463</cell><cell>535</cell><cell>504</cell><cell>1612</cell><cell cols="2">Medium 0.72 GB</cell></row><row><cell>TCGA</cell><cell>GBM</cell><cell>365</cell><cell>491</cell><cell>617</cell><cell>2053</cell><cell>Low</cell><cell>0.50 GB</cell></row><row><cell>NLST</cell><cell cols="2">ADC &amp; SCC 263</cell><cell>425</cell><cell>452</cell><cell>1225</cell><cell>High</cell><cell>0.74 GB</cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_1"><head>Table 2 .</head><label>2</label><figDesc>The comparison results of all the methods. (" †" denotes the significance testing, p-value &lt; 0.001.)</figDesc><table><row><cell cols="2">Methods</cell><cell></cell><cell></cell><cell cols="2">Datasets</cell><cell></cell></row><row><cell></cell><cell></cell><cell></cell><cell></cell><cell cols="3">Subset dataset</cell><cell>Whole dataset</cell></row><row><cell></cell><cell></cell><cell></cell><cell></cell><cell cols="2">LUSC</cell><cell>GBM</cell><cell>NLST</cell><cell>LUSC</cell><cell>GBM</cell><cell>NLST</cell></row><row><cell cols="6">DeepConvSurv [21] 0.5784</cell><cell>0.5231</cell><cell>0.5144</cell><cell>0.4962</cell><cell>0.5008</cell><cell>0.4933</cell></row><row><cell cols="2">GCN [13]</cell><cell></cell><cell></cell><cell cols="2">0.6280</cell><cell>0.5901</cell><cell>0.6687</cell><cell>0.5923</cell><cell>0.6044</cell><cell>0.5910</cell></row><row><cell cols="6">DeepGraphSurv [14] 0.6606</cell><cell>0.6215</cell><cell>0.7066</cell><cell>0.5964</cell><cell>0.5877</cell><cell>0.6212</cell></row><row><cell cols="3">WSISA [22]</cell><cell></cell><cell cols="2">0.6380</cell><cell>0.5760</cell><cell>0.6539</cell><cell>0.6076</cell><cell>0.5789</cell><cell>0.5836</cell></row><row><cell cols="3">MILSurv [19]</cell><cell></cell><cell>-</cell><cell></cell><cell>0.6570</cell><cell>0.6780</cell><cell>0.6235</cell><cell>0.6165</cell><cell>0.6354</cell></row><row><cell cols="3">RankSurv</cell><cell></cell><cell cols="4">0.6791  † 0.6722  † 0.7183  † 0.6608  † 0.6627  † 0.6820  †</cell></row><row><cell>0.0</cell><cell>0.2</cell><cell>0.4</cell><cell>0.6</cell><cell>0.8</cell><cell>1.0</cell><cell></cell></row><row><cell></cell><cell cols="4">False Positive Rate</cell><cell></cell><cell></cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_2"><head>Table 3 .</head><label>3</label><figDesc>Experimental comparison of different settings for our method.</figDesc><table><row><cell>Methods</cell><cell cols="2">Subset dataset</cell><cell></cell><cell cols="2">Whole dataset</cell><cell></cell></row><row><cell cols="2">Hazard prediction + Survival rank LUSC</cell><cell>GBM</cell><cell>NLST</cell><cell>LUSC</cell><cell>GBM</cell><cell>NLST</cell></row><row><cell cols="7">1 DeepGraphSurv [14] + Our method 0.6613 0.6322 0.6814 0.6173 0.6137 0.6286</cell></row><row><cell>2 Our method + -</cell><cell cols="6">0.6592 0.6579 0.6773 0.6487 0.6489 0.6570</cell></row><row><cell>3 Our method + RankNet [1]</cell><cell cols="6">0.6652 0.6680 0.6900 0.6552 0.6538 0.6628</cell></row><row><cell>4 RankSurv</cell><cell cols="6">0.6791 0.6722 0.7183 0.6608 0.6627 0.6820</cell></row><row><cell>Hazard prediction + function</cell><cell>LUSC</cell><cell>GBM</cell><cell>NLST</cell><cell>LUSC</cell><cell>GBM</cell><cell>NLST</cell></row><row><cell>5 Our method + Cox [3]</cell><cell cols="6">0.6183 0.6012 0.6200 0.6020 0.5933 0.6185</cell></row><row><cell>6 Our method + BoostCI [15]</cell><cell cols="6">0.6244 0.6279 0.6143 0.6022 0.6230</cell></row><row><cell>7 Our method + EnCox [18]</cell><cell cols="6">0.6437 0.6328 0.6472 0.6319 0.6235 0.6439</cell></row><row><cell>8 RankSurv</cell><cell cols="6">0.6791 0.6722 0.7183 0.6608 0.6627 0.6820</cell></row></table></figure>
		</body>
		<back>
			<div type="references">

				<listBibl>

<biblStruct xml:id="b0">
	<analytic>
		<title level="a" type="main">From ranknet to lambdarank to lambdaMART: an overview</title>
		<author>
			<persName><forename type="first">C</forename><forename type="middle">J</forename><surname>Burges</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Learning</title>
		<imprint>
			<biblScope unit="volume">11</biblScope>
			<biblScope unit="page">81</biblScope>
			<date type="published" when="2010">2010</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b1">
	<analytic>
		<title level="a" type="main">Deep learning based tissue analysis predicts outcome in colorectal cancer</title>
		<author>
			<persName><forename type="first">D</forename><surname>Bychkov</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Sci. Rep</title>
		<imprint>
			<biblScope unit="volume">8</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="1" to="11" />
			<date type="published" when="2018">2018</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b2">
	<analytic>
		<title level="a" type="main">Regression models and life-tables</title>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">R</forename><surname>Cox</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. Roy. Stat. Soc.: Ser. B (Methodol.)</title>
		<imprint>
			<biblScope unit="volume">34</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="187" to="202" />
			<date type="published" when="1972">1972</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b3">
	<monogr>
		<title level="m" type="main">a large-scale hierarchical image database</title>
		<author>
			<persName><forename type="first">J</forename><surname>Deng</surname></persName>
		</author>
		<author>
			<persName><forename type="first">W</forename><surname>Dong</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Socher</surname></persName>
		</author>
		<author>
			<persName><forename type="first">L</forename><forename type="middle">J</forename><surname>Li</surname></persName>
		</author>
		<author>
			<persName><forename type="first">K</forename><surname>Li</surname></persName>
		</author>
		<author>
			<persName><forename type="first">L</forename><surname>Fei-Fei</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2009">2009</date>
			<publisher>IEEE</publisher>
			<biblScope unit="page" from="248" to="255" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b4">
	<analytic>
		<title level="a" type="main">An introduction to roc analysis</title>
		<author>
			<persName><forename type="first">T</forename><surname>Fawcett</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Pattern Recogn. Lett</title>
		<imprint>
			<biblScope unit="volume">27</biblScope>
			<biblScope unit="issue">8</biblScope>
			<biblScope unit="page" from="861" to="874" />
			<date type="published" when="2006">2006</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b5">
	<monogr>
		<author>
			<persName><forename type="first">Y</forename><surname>Feng</surname></persName>
		</author>
		<author>
			<persName><forename type="first">H</forename><surname>You</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Z</forename><surname>Zhang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Ji</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Gao</surname></persName>
		</author>
		<title level="m">Hypergraph neural networks. In: AAAI</title>
				<imprint>
			<date type="published" when="2019">2019</date>
			<biblScope unit="volume">33</biblScope>
			<biblScope unit="page" from="3558" to="3565" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b6">
	<analytic>
		<title level="a" type="main">3-D object retrieval and recognition with hypergraph analysis</title>
		<author>
			<persName><forename type="first">Y</forename><surname>Gao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Wang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><surname>Tao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">R</forename><surname>Ji</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Q</forename><surname>Dai</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Trans. Image Process</title>
		<imprint>
			<biblScope unit="volume">21</biblScope>
			<biblScope unit="issue">9</biblScope>
			<biblScope unit="page" from="4290" to="4303" />
			<date type="published" when="2012">2012</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b7">
	<analytic>
		<title level="a" type="main">OpenSlide: a vendor-neutral software foundation for digital pathology</title>
		<author>
			<persName><forename type="first">A</forename><surname>Goode</surname></persName>
		</author>
		<author>
			<persName><forename type="first">B</forename><surname>Gilbert</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Harkes</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><surname>Jukic</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Satyanarayanan</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. Pathol. Inform</title>
		<imprint>
			<biblScope unit="volume">4</biblScope>
			<date type="published" when="2013">2013</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b8">
	<analytic>
		<title level="a" type="main">Survival model predictive accuracy and ROC curves</title>
		<author>
			<persName><forename type="first">P</forename><forename type="middle">J</forename><surname>Heagerty</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Zheng</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Biometrics</title>
		<imprint>
			<biblScope unit="volume">61</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="92" to="105" />
			<date type="published" when="2005">2005</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b9">
	<analytic>
		<title level="a" type="main">Dynamic hypergraph neural networks</title>
		<author>
			<persName><forename type="first">J</forename><surname>Jiang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Wei</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Feng</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Cao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Gao</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IJCAI</title>
		<imprint>
			<biblScope unit="page" from="2635" to="2641" />
			<date type="published" when="2019">2019</date>
			<publisher>AAAI Press</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b10">
	<analytic>
		<title level="a" type="main">Mutational landscape and significance across 12 major cancer types</title>
		<author>
			<persName><forename type="first">C</forename><surname>Kandoth</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Nature</title>
		<imprint>
			<biblScope unit="volume">502</biblScope>
			<biblScope unit="issue">7471</biblScope>
			<biblScope unit="page">333</biblScope>
			<date type="published" when="2013">2013</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b11">
	<analytic>
		<title level="a" type="main">Nonparametric estimation from incomplete observations</title>
		<author>
			<persName><forename type="first">E</forename><forename type="middle">L</forename><surname>Kaplan</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><surname>Meier</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">J. Am. Stat. Assoc</title>
		<imprint>
			<biblScope unit="volume">53</biblScope>
			<biblScope unit="issue">282</biblScope>
			<biblScope unit="page" from="457" to="481" />
			<date type="published" when="1958">1958</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b12">
	<analytic>
		<title level="a" type="main">Semi-supervised classification with graph convolutional networks</title>
		<author>
			<persName><forename type="first">T</forename><forename type="middle">N</forename><surname>Kipf</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Welling</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">ICLR</title>
		<imprint>
			<date type="published" when="2017">2017</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b13">
	<analytic>
		<title level="a" type="main">Graph CNN for survival analysis on whole slide pathological images</title>
		<author>
			<persName><forename type="first">R</forename><surname>Li</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Yao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">X</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">Y</forename><surname>Li</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Huang</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-3-030-00934-2_20</idno>
	</analytic>
	<monogr>
		<title level="m">MICCAI 2018</title>
				<editor>
			<persName><forename type="first">A</forename><forename type="middle">F</forename><surname>Frangi</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">J</forename><forename type="middle">A</forename><surname>Schnabel</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">C</forename><surname>Davatzikos</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">C</forename><surname>Alberola-López</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">G</forename><surname>Fichtinger</surname></persName>
		</editor>
		<meeting><address><addrLine>Cham</addrLine></address></meeting>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="2018">2018</date>
			<biblScope unit="volume">11071</biblScope>
			<biblScope unit="page" from="174" to="182" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b14">
	<analytic>
		<title level="a" type="main">Boosting the concordance index for survival data-a unified framework to derive and evaluate biomarker combinations</title>
		<author>
			<persName><forename type="first">A</forename><surname>Mayr</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Schmid</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">PLoS One</title>
		<imprint>
			<biblScope unit="volume">9</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page">e84483</biblScope>
			<date type="published" when="2014">2014</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b15">
	<analytic>
		<title level="a" type="main">A threshold selection method from gray-level histograms</title>
		<author>
			<persName><forename type="first">N</forename><surname>Otsu</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">IEEE Trans. Syst. Man Cybern</title>
		<imprint>
			<biblScope unit="volume">9</biblScope>
			<biblScope unit="issue">1</biblScope>
			<biblScope unit="page" from="62" to="66" />
			<date type="published" when="1979">1979</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b16">
	<monogr>
		<author>
			<persName><forename type="first">K</forename><surname>Simonyan</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><surname>Zisserman</surname></persName>
		</author>
		<idno type="arXiv">arXiv:1409.1556</idno>
		<title level="m">Very deep convolutional networks for large-scale image recognition</title>
				<imprint>
			<date type="published" when="2014">2014</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b17">
	<analytic>
		<title level="a" type="main">A cocktail algorithm for solving the elastic net penalized Coxs regression in high dimensions</title>
		<author>
			<persName><forename type="first">Y</forename><surname>Yang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">H</forename><surname>Zou</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Stat. Interface</title>
		<imprint>
			<biblScope unit="volume">6</biblScope>
			<biblScope unit="issue">2</biblScope>
			<biblScope unit="page" from="167" to="173" />
			<date type="published" when="2013">2013</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b18">
	<analytic>
		<title level="a" type="main">Deep multi-instance learning for survival prediction from whole slide images</title>
		<author>
			<persName><forename type="first">J</forename><surname>Yao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">X</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Huang</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-3-030-32239-7_55</idno>
	</analytic>
	<monogr>
		<title level="m">MICCAI 2019</title>
				<editor>
			<persName><forename type="first">D</forename><surname>Shen</surname></persName>
		</editor>
		<meeting><address><addrLine>Cham</addrLine></address></meeting>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="2019">2019</date>
			<biblScope unit="volume">11764</biblScope>
			<biblScope unit="page" from="496" to="504" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b19">
	<analytic>
		<title level="a" type="main">Deep correlational learning for survival prediction from multi-modality data</title>
		<author>
			<persName><forename type="first">J</forename><surname>Yao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">X</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">F</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Huang</surname></persName>
		</author>
		<author>
			<persName><forename type="first">M</forename><surname>Descoteaux</surname></persName>
		</author>
		<author>
			<persName><forename type="first">L</forename><surname>Maier-Hein</surname></persName>
		</author>
		<author>
			<persName><forename type="first">A</forename><surname>Franz</surname></persName>
		</author>
		<author>
			<persName><forename type="first">P</forename><surname>Jannin</surname></persName>
		</author>
		<author>
			<persName><forename type="first">D</forename><forename type="middle">L</forename><surname>Collins</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-3-319-66185-8_46</idno>
		<ptr target="https://doi.org/10.1007/978-3-319-66185-846" />
	</analytic>
	<monogr>
		<title level="m">MICCAI 2017</title>
				<editor>
			<persName><forename type="first">S</forename><surname>Duchesne</surname></persName>
		</editor>
		<meeting><address><addrLine>Cham</addrLine></address></meeting>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="2017">2017</date>
			<biblScope unit="volume">10434</biblScope>
			<biblScope unit="page" from="406" to="414" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b20">
	<analytic>
		<title level="a" type="main">Deep convolutional neural network for survival analysis with pathological images</title>
		<author>
			<persName><forename type="first">X</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Yao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Huang</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">BIBM</title>
		<imprint>
			<biblScope unit="page" from="544" to="547" />
			<date type="published" when="2016">2016</date>
			<publisher>IEEE</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct xml:id="b21">
	<monogr>
		<title level="m" type="main">WSISA: making survival prediction from whole slide histopathological images</title>
		<author>
			<persName><forename type="first">X</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Yao</surname></persName>
		</author>
		<author>
			<persName><forename type="first">F</forename><surname>Zhu</surname></persName>
		</author>
		<author>
			<persName><forename type="first">J</forename><surname>Huang</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2017">2017</date>
			<publisher>CVPR</publisher>
			<biblScope unit="page" from="7234" to="7242" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
